\hypertarget{checksum_8c}{}\section{/\+Users/\+Zheng/\+Desktop/librsync-\/0.9.7/checksum.c File Reference}
\label{checksum_8c}\index{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/checksum.\+c@{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/checksum.\+c}}
{\ttfamily \#include $<$config.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}librsync.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}checksum.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{checksum_8c_a811ea5442e271407f9349a0707d9fa38}{rs\+\_\+calc\+\_\+weak\+\_\+sum} (void const $\ast$p, int len)
\item 
void \hyperlink{checksum_8c_a24358d0c83155e2f1dd0d3f8a9982d81}{rs\+\_\+calc\+\_\+strong\+\_\+sum} (void const $\ast$buf, size\+\_\+t len, \hyperlink{librsync_8h_a4d9d32def7f72f51a4702a7d2eb30118}{rs\+\_\+strong\+\_\+sum\+\_\+t} $\ast$sum)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{checksum_8c_a1ee244601ee6d769820c15b5e15c892c}{checksum\+\_\+seed} = 0
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{checksum_8c_a24358d0c83155e2f1dd0d3f8a9982d81}{}\index{checksum.\+c@{checksum.\+c}!rs\+\_\+calc\+\_\+strong\+\_\+sum@{rs\+\_\+calc\+\_\+strong\+\_\+sum}}
\index{rs\+\_\+calc\+\_\+strong\+\_\+sum@{rs\+\_\+calc\+\_\+strong\+\_\+sum}!checksum.\+c@{checksum.\+c}}
\subsubsection[{rs\+\_\+calc\+\_\+strong\+\_\+sum(void const $\ast$buf, size\+\_\+t len, rs\+\_\+strong\+\_\+sum\+\_\+t $\ast$sum)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+calc\+\_\+strong\+\_\+sum (
\begin{DoxyParamCaption}
\item[{void const $\ast$}]{buf, }
\item[{size\+\_\+t}]{len, }
\item[{{\bf rs\+\_\+strong\+\_\+sum\+\_\+t} $\ast$}]{sum}
\end{DoxyParamCaption}
)}\label{checksum_8c_a24358d0c83155e2f1dd0d3f8a9982d81}
Calculate and store into S\+U\+M a strong M\+D4 checksum of the file blocks seen so far.

In plain rsync, the checksum is perturbed by a seed value. This is used when retrying a failed transmission\+: we\textquotesingle{}ve discovered that the hashes collided at some point, so we\textquotesingle{}re going to try again with different hashes to see if we can get it right. (Check tridge\textquotesingle{}s thesis for details and to see if that\textquotesingle{}s correct.)

Since we can\textquotesingle{}t retry a web transaction I\textquotesingle{}m not sure if it\textquotesingle{}s very useful in rproxy. 

Definition at line 78 of file checksum.\+c.

\hypertarget{checksum_8c_a811ea5442e271407f9349a0707d9fa38}{}\index{checksum.\+c@{checksum.\+c}!rs\+\_\+calc\+\_\+weak\+\_\+sum@{rs\+\_\+calc\+\_\+weak\+\_\+sum}}
\index{rs\+\_\+calc\+\_\+weak\+\_\+sum@{rs\+\_\+calc\+\_\+weak\+\_\+sum}!checksum.\+c@{checksum.\+c}}
\subsubsection[{rs\+\_\+calc\+\_\+weak\+\_\+sum(void const $\ast$p, int len)}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int rs\+\_\+calc\+\_\+weak\+\_\+sum (
\begin{DoxyParamCaption}
\item[{void const $\ast$}]{p, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}\label{checksum_8c_a811ea5442e271407f9349a0707d9fa38}


Definition at line 44 of file checksum.\+c.



\subsection{Variable Documentation}
\hypertarget{checksum_8c_a1ee244601ee6d769820c15b5e15c892c}{}\index{checksum.\+c@{checksum.\+c}!checksum\+\_\+seed@{checksum\+\_\+seed}}
\index{checksum\+\_\+seed@{checksum\+\_\+seed}!checksum.\+c@{checksum.\+c}}
\subsubsection[{checksum\+\_\+seed}]{\setlength{\rightskip}{0pt plus 5cm}int checksum\+\_\+seed = 0}\label{checksum_8c_a1ee244601ee6d769820c15b5e15c892c}


Definition at line 38 of file checksum.\+c.

