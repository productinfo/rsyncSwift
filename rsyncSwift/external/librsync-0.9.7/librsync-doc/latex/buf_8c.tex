\hypertarget{buf_8c}{}\section{/\+Users/\+Zheng/\+Desktop/librsync-\/0.9.7/buf.c File Reference}
\label{buf_8c}\index{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/buf.\+c@{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/buf.\+c}}
{\ttfamily \#include $<$config.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}librsync.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}trace.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}buf.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structrs__filebuf}{rs\+\_\+filebuf}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{buf_8h_aa63f18e52e4f1ec7c2992586e4d5fc0d}{rs\+\_\+filebuf\+\_\+t} $\ast$ \hyperlink{buf_8c_a40082809d5b084eb8ccf7d843dffedf2}{rs\+\_\+filebuf\+\_\+new} (F\+I\+L\+E $\ast$f, size\+\_\+t buf\+\_\+len)
\item 
void \hyperlink{buf_8c_aded00ad7bc7680c37da5634b03cb57df}{rs\+\_\+filebuf\+\_\+free} (\hyperlink{buf_8h_aa63f18e52e4f1ec7c2992586e4d5fc0d}{rs\+\_\+filebuf\+\_\+t} $\ast$fb)
\item 
\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} \hyperlink{buf_8c_a46bc41113784dbe4c5a7a2c38c1ca300}{rs\+\_\+infilebuf\+\_\+fill} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job, \hyperlink{librsync_8h_abf9f543dbfe5c1e60c8ed1c93d087767}{rs\+\_\+buffers\+\_\+t} $\ast$buf, void $\ast$opaque)
\item 
\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} \hyperlink{buf_8c_a8a75ced5b8edfef660baa04627560432}{rs\+\_\+outfilebuf\+\_\+drain} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job, \hyperlink{librsync_8h_abf9f543dbfe5c1e60c8ed1c93d087767}{rs\+\_\+buffers\+\_\+t} $\ast$buf, void $\ast$opaque)
\item 
\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} \hyperlink{buf_8c_aee7484374016f7fd36099f8aa4f4f38f}{rs\+\_\+file\+\_\+copy\+\_\+cb} (void $\ast$arg, \hyperlink{librsync-config_8h_a6edddd44ca74c10ea65ef82d116e0ffa}{rs\+\_\+long\+\_\+t} pos, size\+\_\+t $\ast$len, void $\ast$$\ast$buf)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{buf_8c_a13d30eb003d6b9d3311435279879dd32}{rs\+\_\+inbuflen} = 16000
\item 
int \hyperlink{buf_8c_ade12a7fac722a79cf4c396cd2f7db6ff}{rs\+\_\+outbuflen} = 16000
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{buf_8c_aee7484374016f7fd36099f8aa4f4f38f}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+file\+\_\+copy\+\_\+cb@{rs\+\_\+file\+\_\+copy\+\_\+cb}}
\index{rs\+\_\+file\+\_\+copy\+\_\+cb@{rs\+\_\+file\+\_\+copy\+\_\+cb}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+file\+\_\+copy\+\_\+cb(void $\ast$arg, rs\+\_\+long\+\_\+t pos, size\+\_\+t $\ast$len, void $\ast$$\ast$buf)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+result} rs\+\_\+file\+\_\+copy\+\_\+cb (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg, }
\item[{{\bf rs\+\_\+long\+\_\+t}}]{pos, }
\item[{size\+\_\+t $\ast$}]{len, }
\item[{void $\ast$$\ast$}]{buf}
\end{DoxyParamCaption}
)}\label{buf_8c_aee7484374016f7fd36099f8aa4f4f38f}
Default copy implementation that retrieves a part of a stdio file. 

Definition at line 204 of file buf.\+c.

\hypertarget{buf_8c_aded00ad7bc7680c37da5634b03cb57df}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+filebuf\+\_\+free@{rs\+\_\+filebuf\+\_\+free}}
\index{rs\+\_\+filebuf\+\_\+free@{rs\+\_\+filebuf\+\_\+free}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+filebuf\+\_\+free(rs\+\_\+filebuf\+\_\+t $\ast$fb)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+filebuf\+\_\+free (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+filebuf\+\_\+t} $\ast$}]{fb}
\end{DoxyParamCaption}
)}\label{buf_8c_aded00ad7bc7680c37da5634b03cb57df}


Definition at line 87 of file buf.\+c.

\hypertarget{buf_8c_a40082809d5b084eb8ccf7d843dffedf2}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+filebuf\+\_\+new@{rs\+\_\+filebuf\+\_\+new}}
\index{rs\+\_\+filebuf\+\_\+new@{rs\+\_\+filebuf\+\_\+new}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+filebuf\+\_\+new(\+F\+I\+L\+E $\ast$f, size\+\_\+t buf\+\_\+len)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+filebuf\+\_\+t}$\ast$ rs\+\_\+filebuf\+\_\+new (
\begin{DoxyParamCaption}
\item[{F\+I\+L\+E $\ast$}]{f, }
\item[{size\+\_\+t}]{buf\+\_\+len}
\end{DoxyParamCaption}
)}\label{buf_8c_a40082809d5b084eb8ccf7d843dffedf2}


Definition at line 75 of file buf.\+c.

\hypertarget{buf_8c_a46bc41113784dbe4c5a7a2c38c1ca300}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+infilebuf\+\_\+fill@{rs\+\_\+infilebuf\+\_\+fill}}
\index{rs\+\_\+infilebuf\+\_\+fill@{rs\+\_\+infilebuf\+\_\+fill}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+infilebuf\+\_\+fill(rs\+\_\+job\+\_\+t $\ast$job, rs\+\_\+buffers\+\_\+t $\ast$buf, void $\ast$opaque)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+result} rs\+\_\+infilebuf\+\_\+fill (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job, }
\item[{{\bf rs\+\_\+buffers\+\_\+t} $\ast$}]{buf, }
\item[{void $\ast$}]{opaque}
\end{DoxyParamCaption}
)}\label{buf_8c_a46bc41113784dbe4c5a7a2c38c1ca300}


Definition at line 100 of file buf.\+c.

\hypertarget{buf_8c_a8a75ced5b8edfef660baa04627560432}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+outfilebuf\+\_\+drain@{rs\+\_\+outfilebuf\+\_\+drain}}
\index{rs\+\_\+outfilebuf\+\_\+drain@{rs\+\_\+outfilebuf\+\_\+drain}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+outfilebuf\+\_\+drain(rs\+\_\+job\+\_\+t $\ast$job, rs\+\_\+buffers\+\_\+t $\ast$buf, void $\ast$opaque)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+result} rs\+\_\+outfilebuf\+\_\+drain (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job, }
\item[{{\bf rs\+\_\+buffers\+\_\+t} $\ast$}]{buf, }
\item[{void $\ast$}]{opaque}
\end{DoxyParamCaption}
)}\label{buf_8c_a8a75ced5b8edfef660baa04627560432}


Definition at line 159 of file buf.\+c.



\subsection{Variable Documentation}
\hypertarget{buf_8c_a13d30eb003d6b9d3311435279879dd32}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+inbuflen@{rs\+\_\+inbuflen}}
\index{rs\+\_\+inbuflen@{rs\+\_\+inbuflen}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+inbuflen}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+inbuflen = 16000}\label{buf_8c_a13d30eb003d6b9d3311435279879dd32}
File I\+O buffer sizes. 

Definition at line 65 of file buf.\+c.

\hypertarget{buf_8c_ade12a7fac722a79cf4c396cd2f7db6ff}{}\index{buf.\+c@{buf.\+c}!rs\+\_\+outbuflen@{rs\+\_\+outbuflen}}
\index{rs\+\_\+outbuflen@{rs\+\_\+outbuflen}!buf.\+c@{buf.\+c}}
\subsubsection[{rs\+\_\+outbuflen}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+outbuflen = 16000}\label{buf_8c_ade12a7fac722a79cf4c396cd2f7db6ff}


Definition at line 65 of file buf.\+c.

