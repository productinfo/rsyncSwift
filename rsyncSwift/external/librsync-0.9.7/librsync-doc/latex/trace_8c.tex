\hypertarget{trace_8c}{}\section{/\+Users/\+Zheng/\+Desktop/librsync-\/0.9.7/trace.c File Reference}
\label{trace_8c}\index{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/trace.\+c@{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/trace.\+c}}
{\ttfamily \#include $<$config.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$sys/file.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include \char`\"{}librsync.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}trace.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}snprintf.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{trace_8c_a56e0ef88d0d230547f678b84ed8ad00a}{M\+Y\+\_\+\+N\+A\+M\+E}~\char`\"{}librsync\char`\"{}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{trace_8c_a9b87e4fd80d6594afb23ad7189af8bc1}{rs\+\_\+trace\+\_\+to} (\hyperlink{librsync_8h_a69d928f89dbf5e0df5da101a15ac28b5}{rs\+\_\+trace\+\_\+fn\+\_\+t} $\ast$new\+\_\+impl)
\begin{DoxyCompactList}\small\item\em Set the destination of trace information. \end{DoxyCompactList}\item 
void \hyperlink{trace_8c_af4aebb30b6047b82bdca09c3a410a389}{rs\+\_\+trace\+\_\+set\+\_\+level} (\hyperlink{librsync_8h_aacedf9be8d9837fcf7f5f1cbf37126ff}{rs\+\_\+loglevel} level)
\item 
void \hyperlink{trace_8c_a5bc5fa876d53e43bbbea39266f0f36d3}{rs\+\_\+log0\+\_\+nofn} (int level, char const $\ast$fmt,...)
\item 
void \hyperlink{trace_8c_a9b0e70090304dd9054e687923157f525}{rs\+\_\+log0} (int level, char const $\ast$fn, char const $\ast$fmt,...)
\item 
void \hyperlink{trace_8c_ab5c0aa3edd00a21639139f98ba8310d5}{rs\+\_\+trace\+\_\+stderr} (int \hyperlink{util_8h_a86d500a34c624c2cae56bc25a31b12f3}{U\+N\+U\+S\+E\+D}(level), char const $\ast$msg)
\item 
void \hyperlink{trace_8c_a995aaab5661dd65ec0c739d0a739c9c9}{rs\+\_\+fatal0} (char const $\ast$s,...)
\item 
void \hyperlink{trace_8c_a5e4ea5754e7a0abd2495208c5595f4da}{rs\+\_\+error0} (char const $\ast$s,...)
\item 
void \hyperlink{trace_8c_a366ab39ab1ee29b372f1a58cc7d3bec1}{rs\+\_\+trace0} (char const $\ast$s,...)
\item 
int \hyperlink{trace_8c_aa5629150519b756abcd7b30fa411072f}{rs\+\_\+supports\+\_\+trace} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{librsync_8h_a69d928f89dbf5e0df5da101a15ac28b5}{rs\+\_\+trace\+\_\+fn\+\_\+t} $\ast$ \hyperlink{trace_8c_a1a17757cfbc8384cfffae0f2414bc59a}{rs\+\_\+trace\+\_\+impl} = \hyperlink{trace_8c_ab5c0aa3edd00a21639139f98ba8310d5}{rs\+\_\+trace\+\_\+stderr}
\item 
int \hyperlink{trace_8c_a77a2317866840f2b0bfa93f79b75e372}{rs\+\_\+trace\+\_\+level} = \hyperlink{librsync_8h_aacedf9be8d9837fcf7f5f1cbf37126ffaf67a230a41302584eb67b9c7ccec3f62}{R\+S\+\_\+\+L\+O\+G\+\_\+\+I\+N\+F\+O}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{trace_8c_a56e0ef88d0d230547f678b84ed8ad00a}{}\index{trace.\+c@{trace.\+c}!M\+Y\+\_\+\+N\+A\+M\+E@{M\+Y\+\_\+\+N\+A\+M\+E}}
\index{M\+Y\+\_\+\+N\+A\+M\+E@{M\+Y\+\_\+\+N\+A\+M\+E}!trace.\+c@{trace.\+c}}
\subsubsection[{M\+Y\+\_\+\+N\+A\+M\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+Y\+\_\+\+N\+A\+M\+E~\char`\"{}librsync\char`\"{}}\label{trace_8c_a56e0ef88d0d230547f678b84ed8ad00a}


Definition at line 65 of file trace.\+c.



\subsection{Function Documentation}
\hypertarget{trace_8c_a5e4ea5754e7a0abd2495208c5595f4da}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+error0@{rs\+\_\+error0}}
\index{rs\+\_\+error0@{rs\+\_\+error0}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+error0(char const $\ast$s,...)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+error0 (
\begin{DoxyParamCaption}
\item[{char const $\ast$}]{s, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{trace_8c_a5e4ea5754e7a0abd2495208c5595f4da}


Definition at line 192 of file trace.\+c.

\hypertarget{trace_8c_a995aaab5661dd65ec0c739d0a739c9c9}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+fatal0@{rs\+\_\+fatal0}}
\index{rs\+\_\+fatal0@{rs\+\_\+fatal0}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+fatal0(char const $\ast$s,...)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+fatal0 (
\begin{DoxyParamCaption}
\item[{char const $\ast$}]{s, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{trace_8c_a995aaab5661dd65ec0c739d0a739c9c9}


Definition at line 179 of file trace.\+c.

\hypertarget{trace_8c_a9b0e70090304dd9054e687923157f525}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+log0@{rs\+\_\+log0}}
\index{rs\+\_\+log0@{rs\+\_\+log0}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+log0(int level, char const $\ast$fn, char const $\ast$fmt,...)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+log0 (
\begin{DoxyParamCaption}
\item[{int}]{level, }
\item[{char const $\ast$}]{fn, }
\item[{char const $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{trace_8c_a9b0e70090304dd9054e687923157f525}


Definition at line 158 of file trace.\+c.

\hypertarget{trace_8c_a5bc5fa876d53e43bbbea39266f0f36d3}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+log0\+\_\+nofn@{rs\+\_\+log0\+\_\+nofn}}
\index{rs\+\_\+log0\+\_\+nofn@{rs\+\_\+log0\+\_\+nofn}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+log0\+\_\+nofn(int level, char const $\ast$fmt,...)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+log0\+\_\+nofn (
\begin{DoxyParamCaption}
\item[{int}]{level, }
\item[{char const $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{trace_8c_a5bc5fa876d53e43bbbea39266f0f36d3}
Called by a macro, used on platforms where we can\textquotesingle{}t determine the calling function name. 

Definition at line 145 of file trace.\+c.

\hypertarget{trace_8c_aa5629150519b756abcd7b30fa411072f}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+supports\+\_\+trace@{rs\+\_\+supports\+\_\+trace}}
\index{rs\+\_\+supports\+\_\+trace@{rs\+\_\+supports\+\_\+trace}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+supports\+\_\+trace(void)}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+supports\+\_\+trace (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{trace_8c_aa5629150519b756abcd7b30fa411072f}
Return true if the library contains trace code; otherwise false. If this returns false, then trying to turn trace on will achieve nothing. 

Definition at line 223 of file trace.\+c.

\hypertarget{trace_8c_a366ab39ab1ee29b372f1a58cc7d3bec1}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+trace0@{rs\+\_\+trace0}}
\index{rs\+\_\+trace0@{rs\+\_\+trace0}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+trace0(char const $\ast$s,...)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+trace0 (
\begin{DoxyParamCaption}
\item[{char const $\ast$}]{s, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{trace_8c_a366ab39ab1ee29b372f1a58cc7d3bec1}


Definition at line 205 of file trace.\+c.

\hypertarget{trace_8c_af4aebb30b6047b82bdca09c3a410a389}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+trace\+\_\+set\+\_\+level@{rs\+\_\+trace\+\_\+set\+\_\+level}}
\index{rs\+\_\+trace\+\_\+set\+\_\+level@{rs\+\_\+trace\+\_\+set\+\_\+level}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+trace\+\_\+set\+\_\+level(rs\+\_\+loglevel level)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+trace\+\_\+set\+\_\+level (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+loglevel}}]{level}
\end{DoxyParamCaption}
)}\label{trace_8c_af4aebb30b6047b82bdca09c3a410a389}
Set the least important message severity that will be output. 

Definition at line 107 of file trace.\+c.

\hypertarget{trace_8c_ab5c0aa3edd00a21639139f98ba8310d5}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+trace\+\_\+stderr@{rs\+\_\+trace\+\_\+stderr}}
\index{rs\+\_\+trace\+\_\+stderr@{rs\+\_\+trace\+\_\+stderr}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+trace\+\_\+stderr(int U\+N\+U\+S\+E\+D(level), char const $\ast$msg)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+trace\+\_\+stderr (
\begin{DoxyParamCaption}
\item[{int }]{U\+N\+U\+S\+E\+Dlevel, }
\item[{char const $\ast$}]{msg}
\end{DoxyParamCaption}
)}\label{trace_8c_ab5c0aa3edd00a21639139f98ba8310d5}


Definition at line 169 of file trace.\+c.

\hypertarget{trace_8c_a9b87e4fd80d6594afb23ad7189af8bc1}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+trace\+\_\+to@{rs\+\_\+trace\+\_\+to}}
\index{rs\+\_\+trace\+\_\+to@{rs\+\_\+trace\+\_\+to}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+trace\+\_\+to(rs\+\_\+trace\+\_\+fn\+\_\+t $\ast$new\+\_\+impl)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+trace\+\_\+to (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+trace\+\_\+fn\+\_\+t} $\ast$}]{new\+\_\+impl}
\end{DoxyParamCaption}
)}\label{trace_8c_a9b87e4fd80d6594afb23ad7189af8bc1}


Set the destination of trace information. 

The callback scheme allows for use within applications that may have their own particular ways of reporting errors\+: log files for a web server, perhaps, and an error dialog for a browser.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000004}{Todo}]Do we really need such fine-\/grained control, or just yes/no tracing? \end{DoxyRefDesc}


Definition at line 97 of file trace.\+c.



\subsection{Variable Documentation}
\hypertarget{trace_8c_a1a17757cfbc8384cfffae0f2414bc59a}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+trace\+\_\+impl@{rs\+\_\+trace\+\_\+impl}}
\index{rs\+\_\+trace\+\_\+impl@{rs\+\_\+trace\+\_\+impl}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+trace\+\_\+impl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+trace\+\_\+fn\+\_\+t}$\ast$ rs\+\_\+trace\+\_\+impl = {\bf rs\+\_\+trace\+\_\+stderr}}\label{trace_8c_a1a17757cfbc8384cfffae0f2414bc59a}


Definition at line 58 of file trace.\+c.

\hypertarget{trace_8c_a77a2317866840f2b0bfa93f79b75e372}{}\index{trace.\+c@{trace.\+c}!rs\+\_\+trace\+\_\+level@{rs\+\_\+trace\+\_\+level}}
\index{rs\+\_\+trace\+\_\+level@{rs\+\_\+trace\+\_\+level}!trace.\+c@{trace.\+c}}
\subsubsection[{rs\+\_\+trace\+\_\+level}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+trace\+\_\+level = {\bf R\+S\+\_\+\+L\+O\+G\+\_\+\+I\+N\+F\+O}}\label{trace_8c_a77a2317866840f2b0bfa93f79b75e372}
\hyperlink{trace_8h_a8d3f77639eef10a024078134293a21b7}{rs\+\_\+trace\+\_\+enabled()}

Call this before putting too much effort into generating trace messages. 

Definition at line 60 of file trace.\+c.

