\hypertarget{job_8c}{}\section{/\+Users/\+Zheng/\+Desktop/librsync-\/0.9.7/job.c File Reference}
\label{job_8c}\index{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/job.\+c@{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/job.\+c}}
{\ttfamily \#include $<$config.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}librsync.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stream.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sumset.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}job.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}trace.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$ \hyperlink{job_8c_a262d37e4e571921cd50a02c39909e293}{rs\+\_\+job\+\_\+new} (char const $\ast$job\+\_\+name, \hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result}($\ast$statefn)(\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$))
\item 
void \hyperlink{job_8c_a3ee39990038179dd7920c23387daaec2}{rs\+\_\+job\+\_\+check} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job)
\item 
\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} \hyperlink{job_8c_a550e44fd028431b13ed1b46575ef63e2}{rs\+\_\+job\+\_\+free} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job)
\item 
\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} \hyperlink{job_8c_a637e42431bf4df09af378c5a1efa60f0}{rs\+\_\+job\+\_\+iter} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job, \hyperlink{librsync_8h_abf9f543dbfe5c1e60c8ed1c93d087767}{rs\+\_\+buffers\+\_\+t} $\ast$buffers)
\begin{DoxyCompactList}\small\item\em Run a \hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} state machine until it blocks (\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253af2d289bbc65678b4b00f56a2e6632957}{R\+S\+\_\+\+B\+L\+O\+C\+K\+E\+D}), returns an error, or completes (\+::\+R\+S\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E). \end{DoxyCompactList}\item 
const \hyperlink{librsync_8h_a03dc177b86ff104157b5410afd12de5b}{rs\+\_\+stats\+\_\+t} $\ast$ \hyperlink{job_8c_a36e39c59dc69b031fd47d446d84df560}{rs\+\_\+job\+\_\+statistics} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job)
\begin{DoxyCompactList}\small\item\em Return pointer to statistics accumulated about this job. \end{DoxyCompactList}\item 
int \hyperlink{job_8c_a988c1786e04a3e0a9fdcb8cc495aea84}{rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job)
\item 
\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} \hyperlink{job_8c_a5ad2866da9b65cf2f7a59b51dc44bf51}{rs\+\_\+job\+\_\+drive} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job, \hyperlink{librsync_8h_abf9f543dbfe5c1e60c8ed1c93d087767}{rs\+\_\+buffers\+\_\+t} $\ast$buf, \hyperlink{librsync_8h_ae06d064f9f33a459a589d2eb1fb5b6bc}{rs\+\_\+driven\+\_\+cb} in\+\_\+cb, void $\ast$in\+\_\+opaque, \hyperlink{librsync_8h_ae06d064f9f33a459a589d2eb1fb5b6bc}{rs\+\_\+driven\+\_\+cb} out\+\_\+cb, void $\ast$out\+\_\+opaque)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{job_8c_a3ee39990038179dd7920c23387daaec2}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+check@{rs\+\_\+job\+\_\+check}}
\index{rs\+\_\+job\+\_\+check@{rs\+\_\+job\+\_\+check}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+check(rs\+\_\+job\+\_\+t $\ast$job)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+job\+\_\+check (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job}
\end{DoxyParamCaption}
)}\label{job_8c_a3ee39990038179dd7920c23387daaec2}


Definition at line 79 of file job.\+c.

\hypertarget{job_8c_a5ad2866da9b65cf2f7a59b51dc44bf51}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+drive@{rs\+\_\+job\+\_\+drive}}
\index{rs\+\_\+job\+\_\+drive@{rs\+\_\+job\+\_\+drive}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+drive(rs\+\_\+job\+\_\+t $\ast$job, rs\+\_\+buffers\+\_\+t $\ast$buf, rs\+\_\+driven\+\_\+cb in\+\_\+cb, void $\ast$in\+\_\+opaque, rs\+\_\+driven\+\_\+cb out\+\_\+cb, void $\ast$out\+\_\+opaque)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+result} rs\+\_\+job\+\_\+drive (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job, }
\item[{{\bf rs\+\_\+buffers\+\_\+t} $\ast$}]{buf, }
\item[{{\bf rs\+\_\+driven\+\_\+cb}}]{in\+\_\+cb, }
\item[{void $\ast$}]{in\+\_\+opaque, }
\item[{{\bf rs\+\_\+driven\+\_\+cb}}]{out\+\_\+cb, }
\item[{void $\ast$}]{out\+\_\+opaque}
\end{DoxyParamCaption}
)}\label{job_8c_a5ad2866da9b65cf2f7a59b51dc44bf51}
Actively process a job, by making callbacks to fill and empty the buffers until the job is done. 

Definition at line 226 of file job.\+c.

\hypertarget{job_8c_a550e44fd028431b13ed1b46575ef63e2}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+free@{rs\+\_\+job\+\_\+free}}
\index{rs\+\_\+job\+\_\+free@{rs\+\_\+job\+\_\+free}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+free(rs\+\_\+job\+\_\+t $\ast$job)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+result} rs\+\_\+job\+\_\+free (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job}
\end{DoxyParamCaption}
)}\label{job_8c_a550e44fd028431b13ed1b46575ef63e2}


Definition at line 85 of file job.\+c.

\hypertarget{job_8c_a988c1786e04a3e0a9fdcb8cc495aea84}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending@{rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending}}
\index{rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending@{rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending(rs\+\_\+job\+\_\+t $\ast$job)}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+job\+\_\+input\+\_\+is\+\_\+ending (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job}
\end{DoxyParamCaption}
)}\label{job_8c_a988c1786e04a3e0a9fdcb8cc495aea84}


Definition at line 214 of file job.\+c.

\hypertarget{job_8c_a637e42431bf4df09af378c5a1efa60f0}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+iter@{rs\+\_\+job\+\_\+iter}}
\index{rs\+\_\+job\+\_\+iter@{rs\+\_\+job\+\_\+iter}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+iter(rs\+\_\+job\+\_\+t $\ast$job, rs\+\_\+buffers\+\_\+t $\ast$buffers)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+result} rs\+\_\+job\+\_\+iter (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job, }
\item[{{\bf rs\+\_\+buffers\+\_\+t} $\ast$}]{buffers}
\end{DoxyParamCaption}
)}\label{job_8c_a637e42431bf4df09af378c5a1efa60f0}


Run a \hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} state machine until it blocks (\hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253af2d289bbc65678b4b00f56a2e6632957}{R\+S\+\_\+\+B\+L\+O\+C\+K\+E\+D}), returns an error, or completes (\+::\+R\+S\+\_\+\+C\+O\+M\+P\+L\+E\+T\+E). 

\begin{DoxyReturn}{Returns}
The \hyperlink{librsync_8h_a7feb858ceba3b8f3cf048d49be108253}{rs\+\_\+result} that caused iteration to stop.
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em ending} & True if there is no more data after what\textquotesingle{}s in the input buffer. The final block checksum will run across whatever\textquotesingle{}s in there, without trying to accumulate anything else. \\
\hline
\end{DoxyParams}


Definition at line 137 of file job.\+c.

\hypertarget{job_8c_a262d37e4e571921cd50a02c39909e293}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+new@{rs\+\_\+job\+\_\+new}}
\index{rs\+\_\+job\+\_\+new@{rs\+\_\+job\+\_\+new}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+new(char const $\ast$job\+\_\+name, rs\+\_\+result($\ast$statefn)(rs\+\_\+job\+\_\+t $\ast$))}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rs\+\_\+job\+\_\+t}$\ast$ rs\+\_\+job\+\_\+new (
\begin{DoxyParamCaption}
\item[{char const $\ast$}]{job\+\_\+name, }
\item[{{\bf rs\+\_\+result}($\ast$)({\bf rs\+\_\+job\+\_\+t} $\ast$)}]{statefn}
\end{DoxyParamCaption}
)}\label{job_8c_a262d37e4e571921cd50a02c39909e293}


Definition at line 61 of file job.\+c.

\hypertarget{job_8c_a36e39c59dc69b031fd47d446d84df560}{}\index{job.\+c@{job.\+c}!rs\+\_\+job\+\_\+statistics@{rs\+\_\+job\+\_\+statistics}}
\index{rs\+\_\+job\+\_\+statistics@{rs\+\_\+job\+\_\+statistics}!job.\+c@{job.\+c}}
\subsubsection[{rs\+\_\+job\+\_\+statistics(rs\+\_\+job\+\_\+t $\ast$job)}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf rs\+\_\+stats\+\_\+t}$\ast$ rs\+\_\+job\+\_\+statistics (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job}
\end{DoxyParamCaption}
)}\label{job_8c_a36e39c59dc69b031fd47d446d84df560}


Return pointer to statistics accumulated about this job. 



Definition at line 207 of file job.\+c.

