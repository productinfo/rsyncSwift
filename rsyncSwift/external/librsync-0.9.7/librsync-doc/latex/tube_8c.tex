\hypertarget{tube_8c}{}\section{/\+Users/\+Zheng/\+Desktop/librsync-\/0.9.7/tube.c File Reference}
\label{tube_8c}\index{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/tube.\+c@{/\+Users/\+Zheng/\+Desktop/librsync-\/0.\+9.\+7/tube.\+c}}
{\ttfamily \#include $<$config.\+h$>$}\\*
{\ttfamily \#include $<$assert.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}librsync.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}trace.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}util.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}job.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stream.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{tube_8c_a54dc3433c7346a3a4960908074c0a122}{rs\+\_\+tube\+\_\+catchup} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job)
\item 
int \hyperlink{tube_8c_afa78a2f17f45a022ec0f93a50c3f142d}{rs\+\_\+tube\+\_\+is\+\_\+idle} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} const $\ast$job)
\item 
void \hyperlink{tube_8c_a35e5fd0a62b2311eb2b0ccb71aefd01a}{rs\+\_\+tube\+\_\+copy} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job, int len)
\item 
void \hyperlink{tube_8c_a15809106e8f91386fb19f3934f73b993}{rs\+\_\+tube\+\_\+write} (\hyperlink{librsync_8h_a99e68494fe0ac6b84f4ecfb646690c35}{rs\+\_\+job\+\_\+t} $\ast$job, const void $\ast$buf, size\+\_\+t len)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{tube_8c_a54dc3433c7346a3a4960908074c0a122}{}\index{tube.\+c@{tube.\+c}!rs\+\_\+tube\+\_\+catchup@{rs\+\_\+tube\+\_\+catchup}}
\index{rs\+\_\+tube\+\_\+catchup@{rs\+\_\+tube\+\_\+catchup}!tube.\+c@{tube.\+c}}
\subsubsection[{rs\+\_\+tube\+\_\+catchup(rs\+\_\+job\+\_\+t $\ast$job)}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+tube\+\_\+catchup (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job}
\end{DoxyParamCaption}
)}\label{tube_8c_a54dc3433c7346a3a4960908074c0a122}


Definition at line 184 of file tube.\+c.

\hypertarget{tube_8c_a35e5fd0a62b2311eb2b0ccb71aefd01a}{}\index{tube.\+c@{tube.\+c}!rs\+\_\+tube\+\_\+copy@{rs\+\_\+tube\+\_\+copy}}
\index{rs\+\_\+tube\+\_\+copy@{rs\+\_\+tube\+\_\+copy}!tube.\+c@{tube.\+c}}
\subsubsection[{rs\+\_\+tube\+\_\+copy(rs\+\_\+job\+\_\+t $\ast$job, int len)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+tube\+\_\+copy (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}\label{tube_8c_a35e5fd0a62b2311eb2b0ccb71aefd01a}
Queue up a request to copy through {\ttfamily len} bytes from the input to the output of the stream.

The data is copied from the scoop (if there is anything there) or from the input, on the next call to \hyperlink{tube_8c_a15809106e8f91386fb19f3934f73b993}{rs\+\_\+tube\+\_\+write()}.

We can only accept this request if there is no copy command already pending. 

Definition at line 235 of file tube.\+c.

\hypertarget{tube_8c_afa78a2f17f45a022ec0f93a50c3f142d}{}\index{tube.\+c@{tube.\+c}!rs\+\_\+tube\+\_\+is\+\_\+idle@{rs\+\_\+tube\+\_\+is\+\_\+idle}}
\index{rs\+\_\+tube\+\_\+is\+\_\+idle@{rs\+\_\+tube\+\_\+is\+\_\+idle}!tube.\+c@{tube.\+c}}
\subsubsection[{rs\+\_\+tube\+\_\+is\+\_\+idle(rs\+\_\+job\+\_\+t const $\ast$job)}]{\setlength{\rightskip}{0pt plus 5cm}int rs\+\_\+tube\+\_\+is\+\_\+idle (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} const $\ast$}]{job}
\end{DoxyParamCaption}
)}\label{tube_8c_afa78a2f17f45a022ec0f93a50c3f142d}


Definition at line 215 of file tube.\+c.

\hypertarget{tube_8c_a15809106e8f91386fb19f3934f73b993}{}\index{tube.\+c@{tube.\+c}!rs\+\_\+tube\+\_\+write@{rs\+\_\+tube\+\_\+write}}
\index{rs\+\_\+tube\+\_\+write@{rs\+\_\+tube\+\_\+write}!tube.\+c@{tube.\+c}}
\subsubsection[{rs\+\_\+tube\+\_\+write(rs\+\_\+job\+\_\+t $\ast$job, const void $\ast$buf, size\+\_\+t len)}]{\setlength{\rightskip}{0pt plus 5cm}void rs\+\_\+tube\+\_\+write (
\begin{DoxyParamCaption}
\item[{{\bf rs\+\_\+job\+\_\+t} $\ast$}]{job, }
\item[{const void $\ast$}]{buf, }
\item[{size\+\_\+t}]{len}
\end{DoxyParamCaption}
)}\label{tube_8c_a15809106e8f91386fb19f3934f73b993}


Definition at line 253 of file tube.\+c.

